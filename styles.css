@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap');

:root{
  /* Color palette */
  --bg-ink:#0b1f16;
  --g-800:#153524;
  --g-700:#1f4e2f;
  --g-600:#4e9644;
  --g-500:#3d6b35;
  --g-400:#4c8a3a;
  --g-300:#7fbe6a;
  --g-200:#bfe7b6;
  --g-100:#e6f6e9;

  --ink-900:#0f172a;
  --ink-800:#111827;
  --ink-700:#1f2937;
  --ink-600:#334155;
  --ink-500:#475569;
  --ink-400:#64748b;
  --ink-300:#94a3b8;

  --blue-600:#2563eb;
  --blue-500:#3b82f6;
  --amber-500:#f59e0b;
  --red-500:#ef4444;

  /* Typography scale */
  --text-xs: 0.75rem;
  --text-sm: 0.875rem;
  --text-base: 1rem;
  --text-lg: 1.125rem;
  --text-xl: 1.25rem;
  --text-2xl: 1.5rem;
  --text-3xl: 2rem;
  --text-4xl: 2.5rem;

  /* Spacing scale */
  --space-xs: 0.25rem;
  --space-sm: 0.5rem;
  --space-md: 1rem;
  --space-lg: 1.5rem;
  --space-xl: 2rem;
  --space-2xl: 3rem;

  /* Border radius */
  --radius-sm: 8px;
  --radius-md: 12px;
  --radius-lg: 16px;
  --radius-xl: 20px;
  --radius-full: 9999px;

  /* Shadows */
  --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
  --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
  --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
  --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
  
  /* Transitions */
  --transition-fast: 0.15s ease;
  --transition-base: 0.25s ease;
  --transition-slow: 0.5s ease;
}


.stApp{
  background: 
    url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 80 40' width='80' height='40'%3E%3Cpath fill='%2392ac92' fill-opacity='0.3' d='M0 40a19.96 19.96 0 0 1 5.9-14.11 20.17 20.17 0 0 1 19.44-5.2A20 20 0 0 1 20.2 40H0zM65.32.75A20.02 20.02 0 0 1 40.8 25.26 20.02 20.02 0 0 1 65.32.76zM.07 0h20.1l-.08.07A20.02 20.02 0 0 1 .75 5.25 20.08 20.08 0 0 1 .07 0zm1.94 40h2.53l4.26-4.24v-9.78A17.96 17.96 0 0 0 2 40zm5.38 0h9.8a17.98 17.98 0 0 0 6.67-16.42L7.4 40zm3.43-15.42v9.17l11.62-11.59c-3.97-.5-8.08.3-11.62 2.42zm32.86-.78A18 18 0 0 0 63.85 3.63L43.68 23.8zm7.2-19.17v9.15L62.43 2.22c-3.96-.5-8.05.3-11.57 2.4zm-3.49 2.72c-4.1 4.1-5.81 9.69-5.13 15.03l6.61-6.6V6.02c-.51.41-1 .85-1.48 1.33zM17.18 0H7.42L3.64 3.78A18 18 0 0 0 17.18 0zM2.08 0c-.01.8.04 1.58.14 2.37L4.59 0H2.07z'%3E%3C/path%3E%3C/svg%3E") 0 0/80px 40px repeat,
    radial-gradient(900px 900px at 8% 10%, rgba(45,90,39,0.08), transparent 45%),
    radial-gradient(800px 800px at 92% 15%, rgba(63,146,90,0.08), transparent 50%),
    linear-gradient(135deg,#f0fff4 0%,#e6f7ed 25%,#dcfce7 50%,#bbf7d0 75%,#86efac 100%);
  font-family:'Inter',sans-serif;
  font-size: var(--text-base);
  line-height: 1.6;
  color: var(--ink-800);
}

/* Enhanced header styling */
header[data-testid="stHeader"]{ 
  background: transparent; 
  height: 0;
}

.main .block-container{
  padding: var(--space-sm) var(--space-md) var(--space-md);
  margin: 0 var(--space-md) var(--space-md);
  background: rgba(255,255,255,0.98);
  border-radius: var(--radius-xl);
  backdrop-filter: blur(12px);
  box-shadow: var(--shadow-xl);
  border: 1px solid rgba(255,255,255,0.2);
}


.section-title {
  font-size: var(--text-xl);
  font-weight: 700;
  color: var(--ink-900);
  margin-bottom: var(--space-lg);
  position: relative;
  letter-spacing: -0.025em;
}

.section-title::after {
  content: '';
  position: absolute;
  bottom: -6px;
  left: 0;
  width: 48px;
  height: 3px;
  background: linear-gradient(90deg, var(--g-500), var(--g-300));
  border-radius: var(--radius-sm);
}

h1, h2, h3, h4, h5, h6 {
  color: var(--ink-900);
  font-weight: 600;
  line-height: 1.3;
  margin-bottom: var(--space-md);
}

p, li, label {
  color: var(--ink-700);
  line-height: 1.6;
}


[data-testid="stSidebar"]{
  background: linear-gradient(145deg, var(--g-700), var(--g-600));
  color: #f8fafc;
  
  box-shadow: inset -4px 0 8px rgba(0,0,0,0.1);
}

[data-testid="stSidebar"] .sidebar-content{ 
  padding: var(--space-md); 
}

[data-testid="stSidebar"] .section-title{
  color: #f8fafc !important;
  color: var(--ink-800) !important;
  font-weight: 800;
  font-size: var(--text-lg);
  margin: var(--space-lg) 0 var(--space-md) !important;
}

[data-testid="stSidebar"] .section-title::after{
  background: linear-gradient(135deg, #d1fae5, #86efac);
}

[data-testid="stSidebar"] label,
[data-testid="stSidebar"] .stMarkdown, 
[data-testid="stSidebar"] p{
  color: #0a182a !important;
  font-weight: 500;
}

/* Enhanced sidebar inputs */
[data-testid="stSidebar"] .stSelectbox>div>div,
[data-testid="stSidebar"] .stTextInput>div>div{
  background: rgba(255,255,255,0.95);
  border: 2px solid rgba(255,255,255,0.3);
  border-radius: var(--radius-md);
  box-shadow: var(--shadow-md);
  transition: all var(--transition-base);
}

[data-testid="stSidebar"] .stSelectbox>div>div:focus-within,
[data-testid="stSidebar"] .stTextInput>div>div:focus-within{
  border-color: #86efac;
  box-shadow: 0 0 0 4px rgba(134, 239, 172, 0.2);
  transform: translateY(-1px);
}

/* Enhanced radio groups */
[data-testid="stSidebar"] .stRadio div[role="radiogroup"] > div{
  padding: var(--space-sm) var(--space-md);
  border-radius: var(--radius-md);
  transition: all var(--transition-base);
  margin-bottom: var(--space-xs);
}

[data-testid="stSidebar"] .stRadio div[role="radiogroup"] > div:hover{
  background: rgba(255,255,255,0.15);
  transform: translateX(4px);
}


.hero{
  display: grid;
  grid-template-columns: 1fr auto;
  align-items: center;
  gap: var(--space-lg);
  border-radius: var(--radius-xl);
  padding: var(--space-xl) var(--space-2xl);
  color: #fff;
  background:
    url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="400" height="160" viewBox="0 0 400 160"><circle cx="350" cy="30" r="20" fill="%23ffffff" fill-opacity="0.1"/><circle cx="60" cy="120" r="30" fill="%23ffffff" fill-opacity="0.08"/><path d="M0 80 Q 100 40, 200 80 T 400 80 L 400 160 L 0 160 Z" fill="%23ffffff" fill-opacity="0.06"/></svg>') right/contain no-repeat,
    linear-gradient(135deg, rgba(21,53,36,0.95), rgba(45,90,39,0.9));
  box-shadow: var(--shadow-xl);
  margin-bottom: var(--space-xl);
  position: relative;
  overflow: hidden;
}

.hero::before {
  content: '';
  position: absolute;
  inset: 0;
  background: linear-gradient(135deg, transparent, rgba(255,255,255,0.1));
  pointer-events: none;
}

.hero-title{ 
  font-size: var(--text-2xl);
  font-weight: 900;
  letter-spacing: -0.025em;
  text-shadow: 0 2px 12px rgba(0,0,0,0.3);
  margin-bottom: var(--space-sm);
}

.hero-sub{ 
  display: flex;
  flex-wrap: wrap;
  gap: var(--space-sm);
  align-items: center;
}

.hero-emoji{ 
  font-size: 3rem;
  filter: drop-shadow(0 4px 8px rgba(0,0,0,0.2));
}


.badge{
  display: inline-flex;
  align-items: center;
  gap: var(--space-xs);
  padding: var(--space-xs) var(--space-sm);
  border-radius: var(--radius-full);
  font-size: var(--text-sm);
  font-weight: 600;
  border: 1px solid rgba(255,255,255,0.3);
  background: rgba(255,255,255,0.15);
  color: #fff;
  backdrop-filter: blur(4px);
  transition: all var(--transition-base);
  position: relative;
}

.badge::before {
  content: '';
  width: 6px;
  height: 6px;
  border-radius: 50%;
  background: currentColor;
}

.badge-online{ 
  background: linear-gradient(135deg, #22c55e, #16a34a);
  color: #052e16;
  border-color: transparent;
  box-shadow: 0 4px 12px rgba(34, 197, 94, 0.3);
}

.badge-online::before {
  background: #052e16;
  animation: pulse 2s ease-in-out infinite;
}

.badge-offline{ 
  background: linear-gradient(135deg, #6b7280, #4b5563);
  color: #f9fafb;
  border-color: transparent;
}

.badge-range{ 
  background: linear-gradient(135deg, #60a5fa, #3b82f6);
  color: #1e3a8a;
  border-color: transparent;
}

.badge-crop{ 
  background: linear-gradient(135deg, #fbbf24, #f59e0b);
  color: #451a03;
  border-color: transparent;
}

.badge-stage{ 
  background: linear-gradient(135deg, #c084fc, #a855f7);
  color: #581c87;
  border-color: transparent;
}

.card{
  background: linear-gradient(145deg, #ffffff, #f8fafc);
  border: 1px solid rgba(226, 232, 240, 0.8);
  border-radius: var(--radius-lg);
  padding: var(--space-xl);
  box-shadow: var(--shadow-lg);
  transition: all var(--transition-base);
  margin-bottom: var(--space-lg);
  position: relative;
  overflow: hidden;
}

.card::before {
  content: '';
  position: absolute;
  inset: 0 0 auto 0;
  height: 4px;
  background: linear-gradient(90deg, var(--g-500), var(--g-300));
}

.card:hover {
  transform: translateY(-4px) scale(1.01);
  box-shadow: var(--shadow-xl);
  border-color: rgba(79, 172, 90, 0.3);
}

.card.soft { 
  background: linear-gradient(145deg, #f0fdf4, #e6ffed);
  border-left: 4px solid var(--g-400);
  border-color: rgba(76, 138, 58, 0.3);
}

.card.alert { 
  background: linear-gradient(145deg, #fffbeb, #fef3c7);
  border-left: 4px solid var(--amber-500);
  color: #92400e;
}

.card.success { 
  background: linear-gradient(145deg, #ecfdf5, #d1fae5);
  border-left: 4px solid #10b981;
  color: #064e3b;
}

.card.danger { 
  background: linear-gradient(145deg, #fef2f2, #fee2e2);
  border-left: 4px solid var(--red-500);
  color: #7f1d1d;
}

/*  KPI SYSTEM */
.kpi{
  background: linear-gradient(145deg, #ffffff, #f0fff4);
  border-radius: var(--radius-lg);
  padding: var(--space-xl);
  text-align: center;
  box-shadow: var(--shadow-md);
  position: relative;
  overflow: hidden;
  transition: all var(--transition-base);
  border: 1px solid #e6f2e9;
  min-height: 120px;
  display: flex;
  flex-direction: column;
  justify-content: center;
}

.kpi::before {
  content: '';
  position: absolute;
  inset: 0 0 auto 0;
  height: 3px;
  background: linear-gradient(90deg, var(--g-400), var(--g-300));
}

.kpi:hover {
  transform: translateY(-6px);
  box-shadow: var(--shadow-xl);
}

.kpi .label {
  color: var(--g-700);
  font-size: var(--text-sm);
  font-weight: 700;
  margin-bottom: var(--space-sm);
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

.kpi .value {
  font-size: var(--text-3xl);
  font-weight: 900;
  color: var(--ink-900);
  line-height: 1;
  letter-spacing: -0.025em;
}

/* KPI variants for visual variety */
.kpi:nth-child(1) { --accent: var(--g-500); }
.kpi:nth-child(2) { --accent: var(--blue-500); }
.kpi:nth-child(3) { --accent: var(--amber-500); }
.kpi:nth-child(4) { --accent: var(--red-500); }
.kpi:nth-child(5) { --accent: var(--g-400); }

.kpi-1::before { background: linear-gradient(90deg, var(--g-400), var(--g-300)); }
.kpi-2::before { background: linear-gradient(90deg, var(--blue-500), var(--blue-600)); }
.kpi-3::before { background: linear-gradient(90deg, var(--amber-500), #fbbf24); }
.kpi-4::before { background: linear-gradient(90deg, var(--red-500), #dc2626); }
.kpi-5::before { background: linear-gradient(90deg, var(--g-400), var(--g-500)); }


.stButton>button{
  background: linear-gradient(135deg, var(--g-600), var(--g-500));
  color: #fff;
  border: none;
  border-radius: var(--radius-md);
  padding: var(--space-md) var(--space-xl);
  font-weight: 700;
  font-size: var(--text-base);
  letter-spacing: 0.025em;
  transition: all var(--transition-base);
  box-shadow: var(--shadow-lg);
  position: relative;
  overflow: hidden;
  cursor: pointer;
}

.stButton>button::before {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 0;
  height: 0;
  background: rgba(255, 255, 255, 0.2);
  border-radius: 50%;
  transform: translate(-50%, -50%);
  transition: all 0.6s ease;
}

.stButton>button:hover {
  background: linear-gradient(135deg, var(--g-500), var(--g-400));
  transform: translateY(-2px);
  box-shadow: var(--shadow-xl);
}

.stButton>button:hover::before {
  width: 300px;
  height: 300px;
}

.stButton>button:active {
  transform: translateY(0px);
}


.stTabs [data-baseweb="tab-list"] {
  gap: var(--space-sm);
  background: transparent;
  border-bottom: 2px solid #e2e8f0;
  padding: 0 var(--space-md);
}

.stTabs [data-baseweb="tab"] {
  background: linear-gradient(145deg, #f8fafc, #f1f5f9);
  border-radius: var(--radius-md) var(--radius-md) 0 0;
  padding: var(--space-md) var(--space-xl);
  border: none;
  font-weight: 700;
  color: var(--ink-700);
  transition: all var(--transition-base);
  position: relative;
  margin-bottom: -2px;
}

.stTabs [data-baseweb="tab"]:hover {
  background: linear-gradient(145deg, #e2e8f0, #cbd5e1);
  transform: translateY(-2px);
}

.stTabs [data-baseweb="tab"][aria-selected="true"] {
  background: linear-gradient(135deg, var(--g-600), var(--g-500));
  color: #fff;
  text-shadow: 0 1px 2px rgba(0,0,0,0.2);
  box-shadow: var(--shadow-md);
}

.stTabs [data-baseweb="tab"][aria-selected="true"]::after {
  content: '';
  position: absolute;
  bottom: -2px;
  left: 0;
  right: 0;
  height: 2px;
  background: var(--g-500);
}

.stFileUploader>div {
  background: linear-gradient(145deg, #f8fafc, #f1f5f9);
  border: 3px dashed #cbd5e1;
  border-radius: var(--radius-lg);
  padding: var(--space-2xl);
  transition: all var(--transition-base);
  color: var(--ink-700);
  text-align: center;
  position: relative;
}

.stFileUploader>div::before {
  content: 'ðŸ“·';
  display: block;
  font-size: 3rem;
  margin-bottom: var(--space-md);
  opacity: 0.7;
}

.stFileUploader>div:hover {
  border-color: var(--g-500);
  background: linear-gradient(145deg, #f0fff4, #e6f7ed);
  transform: translateY(-2px);
  box-shadow: var(--shadow-lg);
}

.stFileUploader>div:hover::before {
  transform: scale(1.1);
  transition: transform var(--transition-base);
}

.stImage>img {
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-xl);
  transition: all var(--transition-base);
}

.stImage>img:hover {
  transform: scale(1.02);
  box-shadow: var(--shadow-xl);
}


.chip-row {
  display: flex;
  gap: var(--space-sm);
  flex-wrap: wrap;
  margin-bottom: var(--space-md);
}

.chip {
  padding: var(--space-sm) var(--space-md);
  background: #fff;
  border: 2px solid #e6f2e9;
  border-radius: var(--radius-full);
  font-size: var(--text-sm);
  font-weight: 600;
  color: var(--ink-700);
  transition: all var(--transition-fast);
  cursor: default;
}

.chip:hover {
  background: #f0fff4;
  border-color: var(--g-300);
  transform: translateY(-1px);
}

/*Progress bar and loading states */
.progress-bar {
  width: 100%;
  height: 8px;
  background: var(--g-100);
  border-radius: var(--radius-sm);
  overflow: hidden;
  margin: var(--space-md) 0;
  position: relative;
}

.progress-fill {
  height: 100%;
  background: linear-gradient(90deg, var(--g-500), var(--g-400));
  border-radius: var(--radius-sm);
  transition: width 0.6s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
}

.progress-fill::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  bottom: 0;
  right: 0;
  background: linear-gradient(
    90deg,
    transparent,
    rgba(255, 255, 255, 0.4),
    transparent
  );
  animation: shimmer 1.5s infinite;
}

@keyframes shimmer {
  0% { transform: translateX(-100%); }
  100% { transform: translateX(100%); }
}

.loading-spinner {
  display: inline-block;
  width: 24px;
  height: 24px;
  border: 3px solid rgba(79, 172, 90, 0.3);
  border-top: 3px solid var(--g-500);
  border-radius: 50%;
  animation: spin 1s linear infinite;
}

@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

@keyframes pulse {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.5; }
}

/*Status indicator*/
.status-indicator {
  display: inline-flex;
  align-items: center;
  gap: var(--space-sm);
  padding: var(--space-sm) var(--space-md);
  border-radius: var(--radius-full);
  font-size: var(--text-sm);
  font-weight: 600;
  border: 1px solid currentColor;
}

.status-indicator::before {
  content: '';
  width: 8px;
  height: 8px;
  border-radius: 50%;
  background: currentColor;
}

.status-online {
  color: var(--g-600);
  background: var(--g-100);
}

.status-online::before {
  animation: pulse 2s ease-in-out infinite;
}

.status-warning {
  color: #d97706;
  background: #fef3c7;
}

.status-error {
  color: #dc2626;
  background: #fee2e2;
}

/*Expanders*/
[data-testid="stExpander"] {
  background: rgba(255, 255, 255, 0.8);
  border: 1px solid rgba(226, 232, 240, 0.8);
  border-radius: var(--radius-md);
  box-shadow: var(--shadow-sm);
  transition: all var(--transition-base);
  margin-bottom: var(--space-md);
}

[data-testid="stExpander"]:hover {
  box-shadow: var(--shadow-md);
  border-color: var(--g-300);
}

[data-testid="stExpander"] summary {
  padding: var(--space-md);
  font-weight: 600;
  color: var(--ink-800);
  cursor: pointer;
  border-radius: var(--radius-md);
  transition: all var(--transition-fast);
}

[data-testid="stExpander"] summary:hover {
  background: rgba(79, 172, 90, 0.05);
}

/* Utility Classes  */
.text-center { text-align: center; }
.text-left { text-align: left; }
.text-right { text-align: right; }

.font-bold { font-weight: 700; }
.font-semibold { font-weight: 600; }
.font-medium { font-weight: 500; }

.text-primary { color: var(--ink-900); }
.text-secondary { color: var(--ink-600); }
.text-muted { color: var(--ink-400); }

.bg-success { background-color: var(--g-100); }
.bg-warning { background-color: #fef3c7; }
.bg-error { background-color: #fee2e2; }

.divider {
  border: 0;
  height: 1px;
  background: linear-gradient(
    90deg,
    transparent,
    rgba(79, 172, 90, 0.4),
    transparent
  );
  margin: var(--space-xl) 0;
}

/* Footer */
.footer {
  text-align: center;
  color: var(--ink-500);
  font-size: var(--text-sm);
  margin-top: var(--space-2xl);
  padding: var(--space-xl);
  background: linear-gradient(145deg, #f8fafc, #f1f5f9);
  border-radius: var(--radius-lg);
  border-top: 1px solid #e5e7eb;
  border: 1px solid rgba(226, 232, 240, 0.6);
}

/* Resposive design */
@media (max-width: 768px) {
  .hero {
    grid-template-columns: 1fr;
    text-align: center;
    gap: var(--space-md);
    padding: var(--space-lg);
  }
  
  .hero-title {
    font-size: var(--text-xl);
  }
  
  .hero-emoji {
    font-size: 2rem;
  }
  
  .card {
    padding: var(--space-lg);
  }
  
  .kpi {
    padding: var(--space-lg);
    min-height: 100px;
  }
  
  .kpi .value {
    font-size: var(--text-2xl);
  }
  
  .main .block-container {
    padding: var(--space-sm) var(--space-md) var(--space-md); /* smaller top */
    margin: 0 var(--space-sm) var(--space-sm);
  }
  
  .chip-row {
    justify-content: center;
  }
  
  .hero-sub {
    justify-content: center;
  }
}

@media (max-width: 480px) {
  .hero-title {
    font-size: var(--text-lg);
  }
  
  .section-title {
    font-size: var(--text-lg);
  }
  
  .kpi .value {
    font-size: var(--text-xl);
  }
  
  .badge {
    font-size: var(--text-xs);
    padding: calc(var(--space-xs) * 0.75) var(--space-sm);
    color:red
  }
}

/* Accessbilit features = */
.focusable:focus,
.stButton>button:focus,
[data-testid="stSelectbox"] *:focus,
[data-testid="stTextInput"] *:focus {
  outline: 3px solid var(--g-400);
  outline-offset: 2px;
}

@media (prefers-contrast: high) {
  .card {
    border: 2px solid var(--ink-700);
  }
  
  .badge {
    border: 2px solid currentColor;
  }
  
  .chip {
    border-width: 2px;
  }
}

@media (prefers-reduced-motion: reduce) {
  * {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
  
  .progress-fill::after {
    display: none;
  }
}

/* 
   DARK MODE PREPARATION */
@media (prefers-color-scheme: dark) {
  :root {
    --bg-primary: #0f172a;
    --bg-secondary: #1e293b;
    --text-primary: #f1f5f9;
    --text-secondary: #94a3b8;
    --border-light: #334155;
  }
  
  .stApp {
    background: 
      url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 80 40' width='80' height='40'%3E%3Cpath fill='%2392ac92' fill-opacity='0.1' d='M0 40a19.96 19.96 0 0 1 5.9-14.11 20.17 20.17 0 0 1 19.44-5.2A20 20 0 0 1 20.2 40H0zM65.32.75A20.02 20.02 0 0 1 40.8 25.26 20.02 20.02 0 0 1 65.32.76zM.07 0h20.1l-.08.07A20.02 20.02 0 0 1 .75 5.25 20.08 20.08 0 0 1 .07 0zm1.94 40h2.53l4.26-4.24v-9.78A17.96 17.96 0 0 0 2 40zm5.38 0h9.8a17.98 17.98 0 0 0 6.67-16.42L7.4 40zm3.43-15.42v9.17l11.62-11.59c-3.97-.5-8.08.3-11.62 2.42zm32.86-.78A18 18 0 0 0 63.85 3.63L43.68 23.8zm7.2-19.17v9.15L62.43 2.22c-3.96-.5-8.05.3-11.57 2.4zm-3.49 2.72c-4.1 4.1-5.81 9.69-5.13 15.03l6.61-6.6V6.02c-.51.41-1 .85-1.48 1.33zM17.18 0H7.42L3.64 3.78A18 18 0 0 0 17.18 0zM2.08 0c-.01.8.04 1.58.14 2.37L4.59 0H2.07z'%3E%3C/path%3E%3C/svg%3E") 0 0/80px 40px repeat,
      linear-gradient(135deg, #0f172a 0%, #1e293b 50%, #334155 100%);
  }
  
  .main .block-container {
    background: rgba(30, 41, 59, 0.95);
    color: #f1f5f9;
  }
}

/* Make text inside .card.soft readable */
.card.soft span { 
  color: var(--ink-900) !important;  
}
.stMarkdown
{
   color: var(--ink-900) !important;   
}
/* Markdown-generated spans/links inside the card */
.card.soft [data-testid="stMarkdownContainer"] span,
.card.soft a,
.card.soft a span {
  color: var(--g-700) !important;
}
/* Sidebar constant */
[data-testid="stSidebar"] .card,
[data-testid="stSidebar"] .card *:not(.badge):not(.badge *):not(.status-indicator):not(.status-indicator *) {
  color: var(--ink-900) !important;
}

/* Links + code samples inside cards */
[data-testid="stSidebar"] .card a { 
  color: var(--ink-800) !important; 
  text-decoration-color: rgba(0,0,0,.25);
}
[data-testid="stSidebar"] .card code,
[data-testid="stSidebar"] .card kbd,
[data-testid="stSidebar"] .card pre {
  color: var(--ink-900) !important;
  background: rgba(0,0,0,0.06);
  padding: 0 .25rem;
  border-radius: 4px;
}

/* Tasks & Costs Section*/

/* Layout helpers for the Tasks/Costs tab */
.grid-2 { display:grid; gap: var(--space-lg); grid-template-columns: 1fr 1fr; }
.grid-3 { display:grid; gap: var(--space-lg); grid-template-columns: 1fr 1fr 1fr; }
@media (max-width: 980px){ .grid-2, .grid-3 { grid-template-columns: 1fr; } }

/* --- Kanban / task list --- */
.kanban { display:grid; gap: var(--space-lg); grid-template-columns: repeat(3,minmax(0,1fr)); }
.kanban-col { background:#fff; border:1px solid rgba(226,232,240,.8); border-radius: var(--radius-lg); box-shadow: var(--shadow-md); padding: var(--space-md); }
.kanban-title { font-weight:800; color:var(--ink-800); margin-bottom: var(--space-md); display:flex; align-items:center; gap:.5rem; }
.task-card {
  background: linear-gradient(145deg,#ffffff,#f8fafc);
  border:1px solid #e6f2e9; border-radius: var(--radius-md);
  padding: var(--space-md); box-shadow: var(--shadow-sm);
  margin-bottom: var(--space-sm);
}
.task-card:hover { box-shadow: var(--shadow-md); transform: translateY(-2px); }
.task-title { font-weight:700; color:var(--ink-900); margin-bottom:.25rem; }
.task-meta { display:flex; flex-wrap:wrap; gap:.5rem; font-size: var(--text-xs); color:var(--ink-500); }
.task-badge, .due-chip, .assignee-chip {
  display:inline-flex; align-items:center; gap:.35rem;
  padding:.15rem .5rem; border-radius: var(--radius-full);
  background:#f1f5f9; color:var(--ink-700); border:1px solid #e2e8f0;
}

/* Priority + status colors */
.priority-high   { background:#fee2e2; color:#7f1d1d; border-color:#fecaca; }
.priority-medium { background:#fef3c7; color:#78350f; border-color:#fde68a; }
.priority-low    { background:#dcfce7; color:#064e3b; border-color:#bbf7d0; }
.status-open     { background:#e0e7ff; color:#1e1b4b; border-color:#c7d2fe; }
.status-blocked  { background:#fee2e2; color:#7f1d1d; border-color:#fecaca; }
.status-done     { background:#d1fae5; color:#064e3b; border-color:#a7f3d0; }

/* Due soon indicator (<=48h) */
.due-soon { box-shadow: 0 0 0 3px rgba(245, 158, 11, .25) inset; }

/* Icon button row on tasks */
.icon-actions { display:flex; gap:.35rem; margin-top:.5rem; }
.icon-btn {
  border:1px solid #e2e8f0; background:#fff; padding:.25rem .5rem;
  border-radius: var(--radius-sm); font-size: var(--text-xs); color: var(--ink-700);
}
.icon-btn:hover { background:#f8fafc; border-color:#cbd5e1; }

/*  Costs */
.cost-cards { display:grid; gap: var(--space-lg); grid-template-columns: repeat(4,minmax(0,1fr)); }
@media (max-width: 1200px){ .cost-cards{ grid-template-columns: repeat(2, minmax(0,1fr)); } }
@media (max-width: 720px){ .cost-cards{ grid-template-columns: 1fr; } }

.metric {
  background:linear-gradient(145deg,#ffffff,#f8fafc);
  border:1px solid rgba(226,232,240,.8);
  border-radius: var(--radius-lg); padding: var(--space-lg);
  box-shadow: var(--shadow-md);
}
.metric .label { font-size: var(--text-sm); font-weight:700; color:var(--ink-600); text-transform:uppercase; letter-spacing:.06em; }
.metric .value { font-size: var(--text-3xl); font-weight:900; color:var(--ink-900); }

.money-positive { color:#065f46; }  
.money-negative { color:#7f1d1d; }   

.budget-meter { margin-top:.75rem; height:10px; border-radius: var(--radius-full); background:#eef2f7; overflow:hidden; position:relative; }
.budget-meter .fill { height:100%; width:0%; background: linear-gradient(90deg, #22c55e, #16a34a); transition: width .6s ease; }
.budget-meter.over .fill { background: linear-gradient(90deg, #f59e0b, #ef4444); }

/* Compact financial table + sticky header */
.table-compact table { font-size: var(--text-sm); }
.table-compact [data-testid="stTable"] th,
.table-compact [data-testid="stDataFrame"] thead th {
  position: sticky; top: 0; z-index: 2; background:#fff; box-shadow: 0 1px 0 #e5e7eb;
}
.table-compact tbody tr:hover { background:#f8fafc; }

/* Toast for real-time alerts */
.toast {
  position: fixed; right: 20px; top: 20px; z-index: 9999;
  background:#0f172a; color:#fff; padding:.75rem 1rem; border-radius: var(--radius-md);
  box-shadow: var(--shadow-xl); opacity:.98;
}

/* Print-friendly export of Tasks/Costs */
@media print {
  .stApp, .main .block-container { background:#fff !important; box-shadow:none !important; }
  .card::before, .kpi::before { display:none; }
  .toast, [data-testid="stSidebar"] { display:none !important; }
}
